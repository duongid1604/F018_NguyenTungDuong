(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8752:function(e,n,r){Promise.resolve().then(r.bind(r,6588))},6588:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return v}});var t=r(7437),s=r(2265),a=r(9671),c=r.n(a),i=r(3198);let o=i.I0,l=i.v9;var u=r(6833),d=r(6976),C=r(6168),p=r(610),m=r.n(p),y=()=>{let[e,n]=(0,s.useState)(""),[r,a]=(0,s.useState)(""),[c,i]=(0,s.useState)(null),[p,y]=(0,s.useState)(!1),{firstCurrency:_,secondCurrency:h}=l(e=>e.system),f=o(),x=e=>{n(e.target.value),y(!1)},j=e=>{a(e.target.value),y(!1)},g=e=>{let{currency:n,onClick:r}=e;return(0,t.jsx)("div",{className:m().dropdownContainer,onClick:()=>{f((0,u.$J)()),r()},children:(0,t.jsxs)("div",{className:m().currencyContainer,children:[(0,t.jsx)("img",{src:"".concat(n,".svg")}),(0,t.jsx)("p",{children:n}),(0,t.jsx)(d.Z,{})]})})};return(0,s.useEffect)(()=>{if(e.length>0&&"firstInput"===c){let n=Number(e)*(_.price/h.price);n<.001&&y(!0),a(n.toFixed(2));return}if(r.length>0&&"secondInput"===c){let e=Number(r)*(h.price/_.price);e<.001&&y(!0),n(e.toFixed(2));return}},[e,r]),(0,t.jsxs)("div",{className:m().formContainer,children:[(0,t.jsxs)("div",{className:m().inputContainer,children:[(0,t.jsx)("input",{name:"firstInput",type:"number",placeholder:"0",value:e,onChange:e=>x(e),onFocus:()=>i("firstInput"),onBlur:()=>i(null)}),(0,t.jsx)(g,{currency:_.currency,onClick:()=>{f((0,u.MZ)(!0)),n("")}})]}),(0,t.jsx)("div",{className:m().break}),(0,t.jsxs)("div",{className:m().inputContainer,children:[(0,t.jsx)("input",{name:"secondInput",type:"number",placeholder:"0",value:r,onChange:e=>j(e),onFocus:()=>i("secondInput"),onBlur:()=>i(null)}),(0,t.jsx)(g,{currency:h.currency,onClick:()=>{f((0,u.ZV)(!0)),a("")}})]}),p&&(0,t.jsx)("p",{className:m().errorMsg,children:"The number input is too small, try another number!"}),(0,t.jsx)("button",{onClick:()=>{n(r),f((0,u.TD)(h)),a(e),f((0,u.PL)(_))},children:(0,t.jsx)(C.Z,{fontSize:"large"})})]})},_=r(3533),h=r(8991),f=r(8688),x=r.n(f),j=function(){let e=o(),{listCurrency:n,isFirstCurrencyClicked:r}=l(e=>e.system),[a,c]=(0,s.useState)(n),i=n=>{r?e((0,u.TD)(n)):e((0,u.PL)(n)),e((0,u.$J)()),e((0,u.MZ)(!1)),e((0,u.ZV)(!1))},d=e=>{let{currency:n}=e;return(0,t.jsxs)("div",{className:x().coinFieldContainer,onClick:()=>i(n),children:[(0,t.jsx)("img",{src:"".concat(n.currency,".svg")}),(0,t.jsxs)("div",{className:x().nameContainer,children:[(0,t.jsx)("p",{className:x().title,children:n.currency}),(0,t.jsx)("p",{className:x().desc,children:n.currency})]})]})},C=e=>{let r=e.target.value.toLowerCase(),t=n.filter(e=>{if("string"==typeof e.currency)return e.currency.toLowerCase().includes(r)});c(t)};return(0,t.jsxs)("div",{className:x().modalContainer,children:[(0,t.jsxs)("div",{className:x().header,children:[(0,t.jsx)("p",{children:"Select a token"}),(0,t.jsx)("button",{onClick:()=>{e((0,u.$J)()),e((0,u.MZ)(!1)),e((0,u.ZV)(!1))},children:(0,t.jsx)(_.Z,{})})]}),(0,t.jsxs)("div",{className:x().searchField,children:[(0,t.jsx)(h.Z,{}),(0,t.jsx)("input",{type:"text",placeholder:"Search name or paste an address",onChange:e=>C(e),autoFocus:!0})]}),(0,t.jsx)("div",{className:x().listToken,children:a.map(e=>(0,t.jsx)(d,{currency:e},e.price+Math.random()))})]})},g=r(3730);function v(){let e=l(e=>e.system.isModalOpen),n=o(),r=(0,s.useRef)(null);return(0,s.useEffect)(()=>{n((0,g.M)())},[n]),(0,s.useEffect)(()=>{let t=e=>{r.current&&!r.current.contains(e.target)&&(n((0,u.$J)()),n((0,u.MZ)(!1)),n((0,u.ZV)(!1)))};return e?document.addEventListener("mousedown",t):document.removeEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[e]),(0,t.jsxs)("main",{className:c().main,style:e?{backgroundColor:"#dee2e6"}:{},children:[(0,t.jsx)(y,{}),e&&(0,t.jsx)("div",{ref:r,className:c().modalContainer,children:(0,t.jsx)(j,{})})]})}},6833:function(e,n,r){"use strict";r.d(n,{$J:function(){return c},MZ:function(){return i},PL:function(){return u},TD:function(){return l},ZV:function(){return o}});var t=r(5726),s=r(3730);let a=(0,t.oM)({name:"system",initialState:{loading:!1,error:"",isModalOpen:!1,listCurrency:[],isFirstCurrencyClicked:!1,isSecondCurrencyClicked:!1,firstCurrency:{currency:"ETH",date:"2023-08-29T07:10:52.000Z",price:1645.9337373737374},secondCurrency:{currency:"USDC",date:"023-08-29T07:10:30.000Z",price:1}},reducers:{toggleModal:e=>{e.isModalOpen=!e.isModalOpen},toggleFirstCurrencyClicked:(e,n)=>{e.isFirstCurrencyClicked=n.payload},toggleSecondCurrencyClicked:(e,n)=>{e.isSecondCurrencyClicked=n.payload},updateFirstCurrencyData:(e,n)=>{e.firstCurrency=n.payload},updateSecondCurrencyData:(e,n)=>{e.secondCurrency=n.payload}},extraReducers:e=>{e.addCase(s.M.pending,e=>{e.loading=!0}),e.addCase(s.M.fulfilled,(e,n)=>{e.loading=!1,e.listCurrency=n.payload,e.error=""}),e.addCase(s.M.rejected,(e,n)=>{e.loading=!1,e.listCurrency=[],e.error=n.error.message})}}),{toggleModal:c,toggleFirstCurrencyClicked:i,toggleSecondCurrencyClicked:o,updateFirstCurrencyData:l,updateSecondCurrencyData:u}=a.actions;n.ZP=a.reducer},3730:function(e,n,r){"use strict";r.d(n,{M:function(){return i}});var t=r(9222);let s=t.Z.create({baseURL:"https://interview.switcheo.com/prices.json",responseType:"json",timeout:5e4}),a=async()=>{let e=await s.get("");return e.data};var c=r(5726);let i=(0,c.hg)("products/getListCurrency",async()=>{let e=await a();return e})},9671:function(e){e.exports={main:"page_main__GlU4n",modalContainer:"page_modalContainer__40S5e"}},8688:function(e){e.exports={modalContainer:"styles_modalContainer__9YvlJ",header:"styles_header__bd8rQ",searchField:"styles_searchField__JoV0r",listToken:"styles_listToken__nOw0Y",coinFieldContainer:"styles_coinFieldContainer__4czyS",nameContainer:"styles_nameContainer__PuFA8",title:"styles_title__IPAMk",desc:"styles_desc__UOCQ0"}},610:function(e){e.exports={formContainer:"styles_formContainer___obY0",inputContainer:"styles_inputContainer__odk8e",dropdownContainer:"styles_dropdownContainer__xl6Cz",currencyContainer:"styles_currencyContainer__hvYqp",break:"styles_break__brczD",errorMsg:"styles_errorMsg__0Hpnw"}}},function(e){e.O(0,[471,491,971,864,744],function(){return e(e.s=8752)}),_N_E=e.O()}]);